<main *ngIf="displayedApps | async as displayedApps">
  <ng-container *ngIf="(hasOwnedApps | async) === false">
    <h1 class="no-apps" translate="OH_NO_YOU_DONT_HAVE_ANY_APPS"></h1>
  </ng-container>
  <ng-container *ngIf="hasOwnedApps | async">
    <div class="apps">
      <input
        type="text"
        [placeholder]="'SEARCH' | translate"
        [value]="librarySearchText | async"
        (keyup)="setLibrarySearchText($event)"
      >
      <ul>
        <li *ngFor="let app of displayedApps" [ngClass]="{ 'selected' : app === (selectedApp | async) }">
          <ds-library-tile [app]="app" (click)="selectApp(app)"></ds-library-tile>
        </li>
      </ul>
    </div>
    <div class="app">
      <ds-app-hub *ngIf="selectedApp | async as selectedApp" [app]="selectedApp">
        <button
          *ngIf="(selectedApp_LocalVersion | async) === LocalAppVersion.UP_TO_DATE"
          translate="PLAY"
          (click)="startApp(selectedApp.id)"
        ></button>
        <button
          *ngIf="(selectedApp_LocalVersion | async) !== LocalAppVersion.UP_TO_DATE"
          [translate]="getUpdateButtonText(selectedApp_LocalVersion | async)"
          [disabled]="((selectedApp_LocalVersion | async) !== LocalAppVersion.OUTDATED) || (isSomeLocalAppUpdating | async)"
          (click)="updateApp(selectedApp.id)"
        ></button>
      </ds-app-hub>
    </div>
  </ng-container>
</main>
